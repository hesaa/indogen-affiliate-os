{
  "project_name": "IndoGen_Affiliate_OS",
  "core_features": [
    "Smart Content Rotator (Anti-Shadowban) - Visual shuffling, metadata scrubbing, dynamic overlays",
    "Automated Comment Sniper - Keyword-triggered replies with natural delays and bio/DM redirection",
    "Advanced Link Cloaker - URL masking with bot detection and safe page serving",
    "Micro-Landing Page Generator - Social proof scraping with urgency timers",
    "Bun-Powered Video Rendering Worker - High-performance parallel FFmpeg processing"
  ],
  "tech_stack": {
    "frontend": "Next.js 16.1.6 (App Router in src/ directory)",
    "database": "Drizzle ORM with PostgreSQL",
    "styling": "Tailwind CSS",
    "structure": "Source code MUST be inside 'src/' folder",
    "runtime": "Bun (for both Next.js app and rendering worker)",
    "queue": "Redis (BullMQ) for job queuing",
    "storage": "S3-compatible object storage for assets",
    "payments": "Stripe (with IDR support)"
  },
  "file_structure": [
    {
      "path": "src/app/layout.tsx",
      "purpose": "Root layout with font, theme, and navigation structure"
    },
    {
      "path": "src/app/page.tsx",
      "purpose": "Landing page with hero, features, and pricing CTA"
    },
    {
      "path": "src/app/(auth)/login/page.tsx",
      "purpose": "Authentication login page"
    },
    {
      "path": "src/app/(auth)/register/page.tsx",
      "purpose": "Registration with plan selection"
    },
    {
      "path": "src/app/dashboard/layout.tsx",
      "purpose": "Dashboard layout with sidebar navigation"
    },
    {
      "path": "src/app/dashboard/page.tsx",
      "purpose": "Dashboard overview with stats and quick actions"
    },
    {
      "path": "src/app/dashboard/render/page.tsx",
      "purpose": "Video render job creation and management interface"
    },
    {
      "path": "src/app/dashboard/links/page.tsx",
      "purpose": "Cloaked link management dashboard"
    },
    {
      "path": "src/app/dashboard/landing-pages/page.tsx",
      "purpose": "Micro-landing page generator and management"
    },
    {
      "path": "src/app/dashboard/comments/page.tsx",
      "purpose": "Comment sniper configuration and history"
    },
    {
      "path": "src/app/dashboard/settings/page.tsx",
      "purpose": "User settings, API keys, and social connections"
    },
    {
      "path": "src/app/pricing/page.tsx",
      "purpose": "Pricing tiers with Stripe checkout integration"
    },
    {
      "path": "src/app/api/render/route.ts",
      "purpose": "POST: Create render job, GET: Check job status"
    },
    {
      "path": "src/app/api/cloak/route.ts",
      "purpose": "POST: Create cloaked link, GET: List links, DELETE: Remove link"
    },
    {
      "path": "src/app/api/landing-pages/[slug]/route.ts",
      "purpose": "GET: Serve generated landing page, POST: Generate new page"
    },
    {
      "path": "src/app/api/comments/sync/route.ts",
      "purpose": "POST: Trigger comment sync from social platforms"
    },
    {
      "path": "src/app/api/webhooks/stripe/route.ts",
      "purpose": "Stripe webhook handler for subscription events"
    },
    {
      "path": "src/components/ui/Button.tsx",
      "purpose": "Reusable button component with variants"
    },
    {
      "path": "src/components/ui/Card.tsx",
      "purpose": "Card component for dashboard widgets"
    },
    {
      "path": "src/components/dashboard/RenderJobCard.tsx",
      "purpose": "Card displaying render job status and preview"
    },
    {
      "path": "src/components/dashboard/CloakedLinkCard.tsx",
      "purpose": "Card with cloaked link stats and copy button"
    },
    {
      "path": "src/components/dashboard/LandingPagePreview.tsx",
      "purpose": "Live preview of generated landing page"
    },
    {
      "path": "src/components/dashboard/CommentSniperConfig.tsx",
      "purpose": "Form for configuring keywords and reply templates"
    },
    {
      "path": "src/lib/db/index.ts",
      "purpose": "Drizzle connection setup and query interface"
    },
    {
      "path": "src/lib/db/schema.ts",
      "purpose": "Complete database schema with all tables and relations"
    },
    {
      "path": "src/lib/redis/client.ts",
      "purpose": "Redis client configuration for BullMQ"
    },
    {
      "path": "src/lib/redis/queues.ts",
      "purpose": "BullMQ queue definitions for render jobs"
    },
    {
      "path": "src/worker/render.worker.ts",
      "purpose": "Bun worker for parallel video rendering with FFmpeg"
    },
    {
      "path": "src/worker/comment.worker.ts",
      "purpose": "Bun worker for periodic comment scanning and replying"
    },
    {
      "path": "src/lib/utils/ffmpeg.ts",
      "purpose": "FFmpeg command builder with anti-detection filters"
    },
    {
      "path": "src/lib/utils/metadata.ts",
      "purpose": "EXIF scrubbing and binary noise injection utilities"
    },
    {
      "path": "src/lib/utils/social.ts",
      "purpose": "Social platform API wrappers (TikTok, Instagram, Shopee)"
    },
    {
      "path": "src/lib/utils/scraper.ts",
      "purpose": "Product review and photo scraper for landing pages"
    },
    {
      "path": "src/lib/utils/cloak.ts",
      "purpose": "Link cloaking logic with bot detection"
    },
    {
      "path": "src/hooks/useRenderJob.ts",
      "purpose": "Custom hook for polling render job status with SWR"
    },
    {
      "path": "src/hooks/useSubscription.ts",
      "purpose": "Hook for managing user subscription status"
    },
    {
      "path": "src/types/index.ts",
      "purpose": "Global TypeScript types and interfaces"
    },
    {
      "path": "src/types/database.types.ts",
      "purpose": "Drizzle-generated database type extensions"
    },
    {
      "path": "drizzle.config.ts",
      "purpose": "Drizzle ORM configuration with migration output"
    },
    {
      "path": "next.config.js",
      "purpose": "Next.js configuration with Bun runtime and image domains"
    },
    {
      "path": "tsconfig.json",
      "purpose": "TypeScript configuration with path mappings"
    },
    {
      "path": "package.json",
      "purpose": "Project dependencies, scripts, and Bun engine specification"
    },
    {
      "path": ".env.example",
      "purpose": "Environment variables template"
    },
    {
      "path": "docker-compose.yml",
      "purpose": "Local development stack (PostgreSQL, Redis)"
    }
  ],
  "architectural_reasoning": "This architecture fulfills the blueprint by creating a production-ready, scalable micro-SaaS with strict separation of concerns. The src/ directory contains all application code following Next.js 14+ App Router conventions. The Bun rendering worker operates independently via Redis queues, enabling horizontal scaling without blocking the main thread. Drizzle ORM provides type-safe database access with clear schema definitions. The four core features are implemented as dedicated API routes and dashboard modules. The system uses a credit-based rendering system (linked to subscription tiers) to manage resource allocation. Anti-detection measures are embedded in the FFmpeg pipeline (metadata scrubbing, visual shuffling). The comment sniper uses randomized delays and safe redirection to avoid platform bans. Link cloaking includes bot detection and safe page serving. Landing pages dynamically scrape social proof with countdown timers. All sensitive operations are rate-limited and logged. The architecture supports the Indonesian market with IDR pricing and local social platform integrations. The modular design allows independent scaling of rendering workers as demand grows, while the Next.js frontend remains responsive through SWR caching and optimistic updates."
}